{
  "$schema": "https://opencode.ai/config.json",

  // Default permissions — all gated behind approval
  "permission": {
    "bash": "ask",
    "edit": "ask",
    "webfetch": "ask"
  },

  // Specialized agent profiles
  "agent": {
    // Channel intake: restricted agent for processing inbound channel requests.
    // No shell, no editing, no writing — read-only memory only.
    "channel-intake": {
      "description": "Validates, summarizes, and dispatches inbound channel requests",
      "prompt": "Follow the skills/ChannelIntake.SKILL.md and skills/RecallFirst.SKILL.md behavioral rules. Follow the safety rules in AGENTS.md.",
      "tools": {
        "bash": false,
        "edit": false,
        "write": false
      }
    }
  },

  // Globally disable MCP tools; the openmemory-http plugin handles memory
  // via direct REST API calls for deterministic behaviour. MCP is available
  // as a fallback if needed.
  "mcp": {
    "openmemory": {
      "type": "remote",
      "url": "http://openmemory:8765/mcp/gateway/sse/default-user",
      "enabled": true
    }
  }
}
