{"version":3,"file":"_server.ts-FkbXrNde.js","sources":["../../../.svelte-kit/adapter-node/entries/endpoints/snippets/_server.ts.js"],"sourcesContent":["import { u as unauthorizedJson, j as json } from \"../../../chunks/json.js\";\nimport { B as BUILTIN_CHANNELS } from \"../../../chunks/index.js\";\nimport { CORE_AUTOMATIONS } from \"../../../chunks/index2.js\";\nimport { d as discoverAllSnippets } from \"../../../chunks/snippet-discovery.js\";\nimport { l as log } from \"../../../chunks/init.js\";\nconst GET = async ({ locals }) => {\n  if (!locals.authenticated) return unauthorizedJson();\n  let snippets = [];\n  try {\n    snippets = await discoverAllSnippets();\n  } catch (error) {\n    log.warn(\"Snippet discovery failed for /snippets\", { error: String(error) });\n    snippets = [];\n  }\n  return json(200, {\n    ok: true,\n    discoveredSnippets: snippets,\n    builtInChannels: Object.entries(BUILTIN_CHANNELS).map(([key, def]) => ({\n      key,\n      name: def.name,\n      containerPort: def.containerPort,\n      rewritePath: def.rewritePath,\n      env: def.env\n    })),\n    coreAutomations: CORE_AUTOMATIONS.map((a) => ({\n      id: a.id,\n      name: a.name,\n      description: a.description,\n      schedule: a.schedule\n    }))\n  });\n};\nexport {\n  GET\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAKK,MAAC,GAAG,GAAG,OAAO,EAAE,MAAM,EAAE,KAAK;AAClC,EAAE,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE,OAAO,gBAAgB,EAAE;AACtD,EAAE,IAAI,QAAQ,GAAG,EAAE;AACnB,EAAE,IAAI;AACN,IAAI,QAAQ,GAAG,MAAM,mBAAmB,EAAE;AAC1C,EAAE,CAAC,CAAC,OAAO,KAAK,EAAE;AAClB,IAAI,GAAG,CAAC,IAAI,CAAC,wCAAwC,EAAE,EAAE,KAAK,EAAE,MAAM,CAAC,KAAK,CAAC,EAAE,CAAC;AAChF,IAAI,QAAQ,GAAG,EAAE;AACjB,EAAE;AACF,EAAE,OAAO,IAAI,CAAC,GAAG,EAAE;AACnB,IAAI,EAAE,EAAE,IAAI;AACZ,IAAI,kBAAkB,EAAE,QAAQ;AAChC,IAAI,eAAe,EAAE,MAAM,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,EAAE,GAAG,CAAC,MAAM;AAC3E,MAAM,GAAG;AACT,MAAM,IAAI,EAAE,GAAG,CAAC,IAAI;AACpB,MAAM,aAAa,EAAE,GAAG,CAAC,aAAa;AACtC,MAAM,WAAW,EAAE,GAAG,CAAC,WAAW;AAClC,MAAM,GAAG,EAAE,GAAG,CAAC;AACf,KAAK,CAAC,CAAC;AACP,IAAI,eAAe,EAAE,gBAAgB,CAAC,GAAG,CAAC,CAAC,CAAC,MAAM;AAClD,MAAM,EAAE,EAAE,CAAC,CAAC,EAAE;AACd,MAAM,IAAI,EAAE,CAAC,CAAC,IAAI;AAClB,MAAM,WAAW,EAAE,CAAC,CAAC,WAAW;AAChC,MAAM,QAAQ,EAAE,CAAC,CAAC;AAClB,KAAK,CAAC;AACN,GAAG,CAAC;AACJ;;;;"}