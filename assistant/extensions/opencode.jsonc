{
  "$schema": "https://opencode.ai/config.json",

  "model": "anthropic/claude-sonnet-4-5",
  "provider": {
    "anthropic": {
      "options": { "apiKey": "{env:ANTHROPIC_API_KEY}" }
    }
  },

  // Default permissions — all gated behind approval
  "permission": {
    "bash": "ask",
    "edit": "ask",
    "webfetch": "ask"
  },

  // Plugins loaded from the plugins/ directory (absolute paths required for local files)
  "plugin": [
    "/opt/opencode/plugins/openmemory-http.ts",
    "/opt/opencode/plugins/policy-and-telemetry.ts"
  ],

  // MCP disabled — the openmemory-http plugin handles memory via direct
  // REST API calls for deterministic behaviour.
  "mcp": {
    "openmemory": {
      "type": "remote",
      "url": "http://openmemory:8765/mcp/gateway/sse/default-user",
      "enabled": false
    }
  }
}
